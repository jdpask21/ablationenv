    protected AbstractCategoryItemRenderer() {
        this.itemLabelGeneratorList = new ObjectList();
        this.toolTipGeneratorList = new ObjectList();
        this.urlGeneratorList = new ObjectList();
        this.legendItemLabelGenerator
        this.backgroundAnnotations = new ArrayList();
        this.foregroundAnnotations = new ArrayList();
    public void setPlot(CategoryPlot plot) {
        if (plot == null) {
        this.plot = plot;
    public void setBaseToolTipGenerator(CategoryToolTipGenerator generator) {
        setBaseToolTipGenerator(generator, true);
    public void setBaseToolTipGenerator(CategoryToolTipGenerator generator,
        this.baseToolTipGenerator = generator;
        if (notify) {
            notifyListeners(new RendererChangeEvent(this));
    public Range findRangeBounds(CategoryDataset dataset) {
        return findRangeBounds(dataset, false);
    protected Range findRangeBounds(CategoryDataset dataset,
        if (dataset == null) {
        if (getDataBoundsIncludesVisibleSeriesOnly()) {
            List visibleSeriesKeys = new ArrayList();
            int seriesCount = dataset.getRowCount();
            for (int s = 0; s < seriesCount; s++) {
            return DatasetUtilities.findRangeBounds(dataset,
    public void drawBackground(Graphics2D g2,
        plot.drawBackground(g2, dataArea);
    public void drawOutline(Graphics2D g2,
        plot.drawOutline(g2, dataArea);
    public void drawRangeLine(Graphics2D g2, CategoryPlot plot, ValueAxis axis,
        Range range = axis.getRange();
        if (!range.contains(value)) {
        PlotOrientation orientation = plot.getOrientation();
        Line2D line = null;
        double v = axis.valueToJava2D(value, dataArea, plot.getRangeAxisEdge());
        if (orientation == PlotOrientation.HORIZONTAL) {
        else if (orientation == PlotOrientation.VERTICAL) {
            line = new Line2D.Double(dataArea.getMinX(), v,
        g2.setPaint(paint);
        g2.setStroke(stroke);
        g2.draw(line);
    public void drawRangeMarker(Graphics2D g2,
        if (marker instanceof ValueMarker) {
            ValueMarker vm = (ValueMarker) marker;
            double value = vm.getValue();
            Range range = axis.getRange();
            if (!range.contains(value)) {
                return;
        else if (marker instanceof IntervalMarker) {
            IntervalMarker im = (IntervalMarker) marker;
            double start = im.getStartValue();
            double end = im.getEndValue();
            Range range = axis.getRange();
            if (!(range.intersects(start, end))) {
                return;
    public boolean equals(Object obj) {
        if (obj == this) {
        if (!(obj instanceof AbstractCategoryItemRenderer)) {
        AbstractCategoryItemRenderer that = (AbstractCategoryItemRenderer) obj;
        if (!ObjectUtilities.equal(this.itemLabelGeneratorList,
        if (!ObjectUtilities.equal(this.baseItemLabelGenerator,
        if (!ObjectUtilities.equal(this.toolTipGeneratorList,
        if (!ObjectUtilities.equal(this.baseToolTipGenerator,
        if (!ObjectUtilities.equal(this.urlGeneratorList,
        if (!ObjectUtilities.equal(this.baseURLGenerator,
        if (!ObjectUtilities.equal(this.legendItemLabelGenerator,
        if (!ObjectUtilities.equal(this.legendItemToolTipGenerator,
        if (!ObjectUtilities.equal(this.legendItemURLGenerator,
        if (!ObjectUtilities.equal(this.backgroundAnnotations,
        if (!ObjectUtilities.equal(this.foregroundAnnotations,
        return super.equals(obj);
    public void drawAnnotations(Graphics2D g2, Rectangle2D dataArea,
        Iterator iterator = null;
        if (layer.equals(Layer.FOREGROUND)) {
            iterator = this.foregroundAnnotations.iterator();
        else if (layer.equals(Layer.BACKGROUND)) {
            iterator = this.backgroundAnnotations.iterator();
        while (iterator.hasNext()) {
    public LegendItemCollection getLegendItems() {
        LegendItemCollection result = new LegendItemCollection();
        if (this.plot == null) {
        int index = this.plot.getIndexOf(this);
        CategoryDataset dataset = this.plot.getDataset(index);
        if (dataset != null) {
            return result;
